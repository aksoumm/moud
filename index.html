<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="theme-color" content="#080612" />
  <title>Moud</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@400;600;700;900&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;1,9..40,300&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <canvas id="bg-canvas"></canvas>

  <!-- NAV -->
  <nav class="nav">
    <button class="nav-btn active" data-view="home">
      <svg width="22" height="22" viewBox="0 0 22 22" fill="none">
        <circle cx="11" cy="11" r="9" stroke="currentColor" stroke-width="1.5"/>
        <path d="M7.5 13.5 C8.5 15.5 13.5 15.5 14.5 13.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        <circle cx="8" cy="9.5" r="1" fill="currentColor"/>
        <circle cx="14" cy="9.5" r="1" fill="currentColor"/>
      </svg>
      <span>Today</span>
    </button>
    <button class="nav-btn" data-view="calendar">
      <svg width="22" height="22" viewBox="0 0 22 22" fill="none">
        <rect x="2.5" y="4.5" width="17" height="15" rx="2.5" stroke="currentColor" stroke-width="1.5"/>
        <path d="M7 2.5V6.5M15 2.5V6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        <path d="M2.5 9.5H19.5" stroke="currentColor" stroke-width="1.5"/>
        <circle cx="7" cy="13.5" r="1" fill="currentColor"/>
        <circle cx="11" cy="13.5" r="1" fill="currentColor"/>
        <circle cx="15" cy="13.5" r="1" fill="currentColor"/>
      </svg>
      <span>Calendar</span>
    </button>
    <button class="nav-btn" data-view="stats">
      <svg width="22" height="22" viewBox="0 0 22 22" fill="none">
        <path d="M3 17 L7 11 L11 14 L15 7 L19 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span>Stats</span>
    </button>
  </nav>

  <!-- HOME -->
  <section class="view active" id="view-home">
    <div class="home-wrap">
      <header class="home-header">
        <p class="home-date" id="home-date"></p>
        <h1 class="home-title">How are<br><em>you</em> today?</h1>
      </header>
      <div class="blob-grid" id="blob-row"></div>
      <div class="logged-wrap" id="home-today" style="display:none">
        <div class="logged-blob" id="today-mood-display"></div>
        <p class="logged-hint">Today's mood</p>
        <button class="pill-btn ghost" id="change-btn">change â†©</button>
      </div>
    </div>
  </section>

  <!-- CALENDAR -->
  <section class="view" id="view-calendar">
    <div class="cal-wrap">
      <div class="cal-topbar">
        <button class="icon-btn" id="cal-prev">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M11 4L6 9L11 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <h2 class="cal-month-label" id="cal-month-label"></h2>
        <button class="icon-btn" id="cal-next">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M7 4L12 9L7 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
      </div>
      <div class="cal-dow">
        <span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span>
      </div>
      <div class="cal-grid" id="cal-grid"></div>
    </div>
  </section>

  <!-- STATS -->
  <section class="view" id="view-stats">
    <div class="stats-wrap">
      <h2 class="stats-heading">Your Moud</h2>

      <div class="arc-card">
        <svg id="arc-svg" viewBox="0 0 220 120" fill="none"></svg>
        <div class="arc-center-label">
          <strong id="arc-count">0</strong>
          <span>entries</span>
        </div>
      </div>

      <div class="count-row" id="mood-count-row"></div>

      <div class="cards-row">
        <div class="stat-card">
          <span class="stat-icon">ðŸ”¥</span>
          <strong class="stat-val" id="streak-val">0</strong>
          <span class="stat-lbl">day streak</span>
        </div>
        <div class="stat-card">
          <span class="stat-icon">âœ¨</span>
          <strong class="stat-val" id="best-day-val">â€”</strong>
          <span class="stat-lbl">best weekday</span>
        </div>
      </div>

      <div class="weekday-card">
        <p class="card-title">Average by weekday</p>
        <div class="weekday-bars" id="weekday-bars"></div>
      </div>

      <div class="export-row">
        <button class="pill-btn outline" id="export-json">Export JSON</button>
        <button class="pill-btn outline" id="export-csv">Export CSV</button>
      </div>

      <label class="import-zone" for="import-csv">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M8 10V2M4 6L8 2L12 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M2 11V13H14V11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        Import Daylio CSV
      </label>
      <input type="file" id="import-csv" accept=".csv" style="display:none" />
      <p class="import-status" id="import-status"></p>
    </div>
  </section>

  <!-- MODAL -->
  <div class="modal-backdrop" id="modal" style="display:none">
    <div class="modal-sheet">
      <div class="modal-handle"></div>
      <p class="modal-date-lbl" id="modal-date"></p>
      <h3 class="modal-q">How did you feel?</h3>
      <div class="blob-grid modal-blobs" id="modal-blob-row"></div>
    </div>
  </div>

  <div id="toast" class="toast"></div>
  <script src="app.js"></script>
</body>
</html>
